version: '3.8'
services:
  geth:
    volumes:
      - /mnt/q/ubt-sync/geth-data:/root/.ethereum
      - ./geth/config:/config
    command: >
      --hoodi
      --syncmode full
      --state.scheme path
      --ubt.sidecar
      --ubt.sanity
      --cache.preimages
      
      
      
      
      
      --datadir /root/.ethereum
      --authrpc.addr 0.0.0.0
      --authrpc.port 8551
      --authrpc.vhosts "*"
      --authrpc.jwtsecret /config/jwt.hex
      --ipcpath /tmp/geth.ipc
      --http
      --http.addr 0.0.0.0
      --http.port 8545
      --http.vhosts "*"
      --http.corsdomain "*"
      --http.api eth,net,web3,debug,admin,txpool
      --ws
      --ws.addr 0.0.0.0
      --ws.port 8546
      --ws.origins "*"
      --ws.api eth,net,web3,debug
      --metrics
      --metrics.addr 0.0.0.0
      --metrics.port 6061
      --pprof
      --pprof.addr 0.0.0.0
      --pprof.port 6060
      --log.format json
      --verbosity 4
  lighthouse:
    volumes:
      - /mnt/q/ubt-sync/lighthouse-data:/root/.lighthouse
      - ./geth/config:/config
    command: >
      lighthouse bn
      --network hoodi
      --execution-endpoint http://geth:8551
      --execution-jwt /config/jwt.hex
      --checkpoint-sync-url https://checkpoint-sync.hoodi.ethpandaops.io
      --http
      --http-address 0.0.0.0
      --http-port 5052
      --metrics
      --metrics-address 0.0.0.0
      --metrics-port 5054
      --datadir /root/.lighthouse
